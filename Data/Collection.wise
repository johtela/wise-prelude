Data/Collection«import«Lang/Comparison, Math/Arith«Arith, +, ++», Control/Monad», class«Indexed«i«a», @length«->>«" *of* ", i«a», Number»», @«->>«i«a», Number, a»»», MutableIndexed«i«a, Indexed», @new«->>«"[", Number, "]", i«a»»», @resize«->>«i«a», "[", Number, "]", Unit»», @set«->>«i«a», "[", Number, "] = ", a, Unit»»», Mappable«m«a», _map«->>«m«a», " *with* ", ->«a, b», m«b»»»», Filterable«f«a», _filter«->>«f«a», " *where* ", ->«a, Bool», f«a»»»», Foldable«f«a», _fold«->>«f«a», " *from* ", b, " *with* ", ->«b, a, b», b»»», Range«a, ..«->>«a, a, m«a, MonadPlus»»»»», define«---«"Operations on Indexed types"», @is_empty«->>«coll, <«@length«coll», 0»»», @foreach«->>«i«a, Indexed», ->>«a, Number, Unit», Unit», ->>«coll, " *do* ", _action, do«set«i, -1», let«a, coll», while«<«++«i», @length«a»», _action«@«a, ^«i»», ^«i»»»»»», @fold«->>«i«a, Indexed», b, ->>«b, a, b», b», ->>«coll, " *from* ", initial, " *with* ", _folder, do«set«res, initial», @foreach«coll, ->>«a, i, _ignore«:=«res, _folder«^«res», a»»»»», ^«res»»»», ---«"Operations on MutableIndexed types"», @map«->>«a«b, Indexed, MutableIndexed», ->>«b, c», a«c»», ->>«indexed, " *with* ", _mapper, do«let«coll, indexed», let«res, @new«@length«coll»»», @foreach«coll, ->>«a, i, @set«res, i, _mapper«a»»»», res»»», @map?«->>«a«b, Indexed, MutableIndexed», ->>«b, ?«c»», a«c»», ->>«indexed, " *with* ", _mapper, do«let«coll, indexed», let«res, @new«@length«coll»»», set«i, -1», @foreach«coll, ->>«a, j, ?with«_mapper«a», ->>«b, @set«res, ++«i», b»»»»», @resize«res, +«^«i», 1»», res»»»», define«---«"Operations for mappable and foldable types"», _foreach«->>«coll, _iter, _fold«coll, (), ->«_, a, _iter«a»»»»»»»