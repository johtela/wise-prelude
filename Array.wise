Array«import«Base, Comparison, Math«Arith, +, ++, _max»», define«---«"JS Array operations"», _length«->>«[«a», Num», ->>«arr, asm«arr, `.length`»»», @«->>«[«a», Num, a», ->>«arr, ind, asm«arr, `[`, ind, `]`»»», _array«->>«Num, [«a»», ->>«len, asm«`Array(`, len, `)`»»», _resize«->>«[«a», Num, Unit», ->>«arr, size, asm«arr, `.length = `, size»»», _set«->>«[«a», Num, a, Unit», ->>«arr, ind, val, asm«arr, `[`, ind, `] = `, val»»»», define«---«"Operations on arrays"», |>!«->>«[«a», ->>«a, Num, Unit», Unit», ->>«arr, _iter, do«let«i, -1», let«a, arr», while«<«++«i», _length«a»», _iter«@«a, i», i»»»»», |>«->>«[«b», ->>«b, a», [«a»», ->>«arr, _mapper, do«let«res, _array«_length«arr»»», |>!«arr, ->>«a, i, _set«res, i, _mapper«a»»»», res»»», |>?«->>«[«a», ->>«a, ?«b»», [«b»», ->>«arr, _mapper, do«let«res, _array«_length«arr»»», let«i, -1», |>!«arr, ->>«a, _, _withValue«_mapper«a», ->>«b, _set«res, ++«i», b»»»»», _resize«res, +«i, 1»», res»»», |>_«->>«[«a», [«b», ->>«a, b», Unit», ->>«src, dest, _map, do«_resize«dest, _max«_length«src», _length«dest»»», |>!«src, ->>«a, i, _set«dest, i, _map«a»»»»»»», |>\«->>«[«a», b, ->>«b, a, b», b», ->>«arr, initial, _fold, do«let«res, initial», |>!«arr, ->>«a, _, _ignore«set«res, _fold«res, a»»»»», res»»»»»